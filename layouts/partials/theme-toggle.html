<button class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle dark mode" title="Toggle dark mode">
  <span id="theme-icon">☀</span>
</button>
<script>
function toggleTheme() {
  var html = document.documentElement;
  var current = html.getAttribute('data-theme');
  var next = current === 'dark' ? 'light' : 'dark';
  html.setAttribute('data-theme', next);
  localStorage.setItem('theme', next);
  updateIcon(next);
}
function updateIcon(theme) {
  document.getElementById('theme-icon').textContent = theme === 'dark' ? '☀' : '☽';
}
(function() {
  var t = localStorage.getItem('theme');
  var isDark = t === 'dark' || (!t && window.matchMedia('(prefers-color-scheme: dark)').matches);
  updateIcon(isDark ? 'dark' : 'light');
})();
</script>
